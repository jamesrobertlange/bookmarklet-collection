javascript:(function(){const folderName=prompt('Enter file prefix:','product-page')||'product-page';const cleanName=folderName.replace(/[^\w\s-]/g,'').replace(/\s+/g,'-');const images=new Set();const imageUrls=[];let imageCount=0;function downloadFile(content,filename,mimeType='text/plain'){const blob=new Blob([content],{type:mimeType});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}function downloadImage(src,filename){const methods=[()=>fetch(src,{mode:'cors',cache:'no-cache'}).then(r=>r.blob()),()=>fetch(src,{mode:'no-cors'}).then(r=>r.blob()),()=>{const img=new Image();img.crossOrigin='anonymous';return new Promise((resolve,reject)=>{img.onload=()=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');canvas.width=img.naturalWidth||img.width;canvas.height=img.naturalHeight||img.height;ctx.drawImage(img,0,0);canvas.toBlob(resolve,'image/png');};img.onerror=reject;img.src=src;});},()=>{const img=new Image();return new Promise((resolve,reject)=>{img.onload=()=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');canvas.width=img.naturalWidth||img.width;canvas.height=img.naturalHeight||img.height;ctx.drawImage(img,0,0);canvas.toBlob(resolve,'image/jpeg',0.9);};img.onerror=reject;img.src=src;});}];let methodIndex=0;function tryNext(){if(methodIndex>=methods.length){console.warn('Failed to download:',src);return;}methods[methodIndex]().then(blob=>{if(blob&&blob.size>0){const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);imageCount++;}else{methodIndex++;tryNext();}}).catch(err=>{methodIndex++;tryNext();});}tryNext();}function getAllImages(){const foundImages=new Set();document.querySelectorAll('img').forEach(img=>{[img.src,img.dataset.src,img.dataset.original,img.dataset.lazy,img.dataset.srcset].forEach(src=>{if(src&&src.startsWith('http'))foundImages.add(src);});});document.querySelectorAll('[style*="background-image"]').forEach(el=>{const bgImg=getComputedStyle(el).backgroundImage;const matches=bgImg.match(/url\(["']?(.*?)["%27]?\)/);if(matches&&matches[1]&&matches[1].startsWith(%27http%27))foundImages.add(matches[1]);});document.querySelectorAll(%27source%27).forEach(source=>{[source.src,source.srcset].forEach(src=>{if(src)src.split(%27,%27).forEach(s=>{const url=s.trim().split(%27 %27)[0];if(url&&url.startsWith(%27http%27))foundImages.add(url);});});});const scripts=document.querySelectorAll(%27script%27);scripts.forEach(script=>{if(script.textContent){const imageRegex=/["%27](https?:\/\/[^"%27]*\.(jpg|jpeg|png|gif|webp|svg))["%27]/gi;let match;while((match=imageRegex.exec(script.textContent))!==null){foundImages.add(match[1]);}}});Object.values(window).forEach(val=>{if(typeof val===%27string%27&&val.match(/https?:\/\/.*\.(jpg|jpeg|png|gif|webp)/i)){foundImages.add(val);}});if(window.performance&&window.performance.getEntriesByType){window.performance.getEntriesByType(%27resource%27).forEach(entry=>{if(entry.name.match(/\.(jpg|jpeg|png|gif|webp|svg)($|\?)/i)){foundImages.add(entry.name);}});}return Array.from(foundImages);}function extractTextContent(){const productSelectors=[%27.product-description%27,%27.product-details%27,%27.product-info%27,%27.description%27,%27.details%27,%27.specifications%27,%27.spec%27,%27.features%27,%27.overview%27,%27.summary%27,%27.content%27,%27.main-content%27,%27.product-content%27,%27[itemprop="description"]%27,%27[class*="description"]%27,%27[class*="detail"]%27,%27[class*="spec"]%27,%27[class*="feature"]%27,%27[class*="overview"]%27,%27[class*="product"]%27,%27[class*="content"]%27,%27.price%27,%27.pricing%27,%27[class*="price"]%27,%27.reviews%27,%27.review%27,%27[class*="review"]%27,%27.rating%27,%27[class*="rating"]%27,%27.title%27,%27h1%27,%27h2%27,%27h3%27,%27[class*="title"]%27,%27[class*="name"]%27,%27main%27,%27article%27,%27section%27,%27.container%27,%27.wrapper%27];let allContent=%27%27;const processedElements=new Set();productSelectors.forEach(selector=>{document.querySelectorAll(selector).forEach(element=>{if(!processedElements.has(element)&&element.offsetParent!==null){processedElements.add(element);const text=element.innerText||element.textContent;if(text&&text.trim().length>10){allContent+=%27\n\n%27+text.trim();}}});});if(allContent.length<500){allContent+=document.body.innerText||document.body.textContent||%27%27;}return allContent.replace(/\s+/g,%27 %27).replace(/\n\s*\n/g,%27\n\n%27).trim();}function processContent(text){const lines=text.split(%27\n%27);let markdown=%27%27;let inList=false;lines.forEach(line=>{line=line.trim();if(!line)return;if(line.match(/^[%E2%80%A2%C2%B7\-\*]\s/)){if(!inList){markdown+=%27\n\n%27;inList=true;}markdown+=%27- %27+line.replace(/^[%E2%80%A2%C2%B7\-\*]\s/,%27%27)+%27 \n%27;}else if(line.match(/^\d+[.)]/)){if(!inList){markdown+=%27\n\n%27;inList=true;}markdown+=%271. %27+line.replace(/^\d+[.)]/,%27%27)+%27 \n%27;}else{if(inList){markdown+=%27\n\n%27;inList=false;}if(line.length<100&&(line.match(/^[A-Z].*:$/)||line.match(/^[A-Z][^.!?]*$/))){markdown+=%27\n\n##%20'+line+'\n\n';}else%20if(line.match(/\$[0-9,.]+/)||line.match(/price/i)){markdown+='\n\n**'+line+'**\n\n';}else{markdown+=line+'%20';}}});return%20markdown.replace(/\n{3,}/g,'\n\n').trim();}const%20title=document.title||'Product%20Page';const%20url=window.location.href;let%20markdown='#%20'+title+'\n\n**Source:**%20'+url+'\n\n**Extracted:**%20'+new%20Date().toLocaleString()+'\n\n---\n\n';const%20rawContent=extractTextContent();const%20processedContent=processContent(rawContent);markdown+=processedContent;const%20allImages=getAllImages();let%20imageIndex=1;allImages.forEach(src=>{if(src&&!images.has(src)){images.add(src);const%20extension=src.split('.').pop().split('?')[0]||'jpg';const%20filename=cleanName+'-image-'+String(imageIndex).padStart(3,'0')+'.'+extension;imageUrls.push({src,filename});markdown+='\n\n![Image%20'+imageIndex+']('+filename+')\n';imageIndex++;}});downloadFile(markdown,cleanName+'-content.md','text/markdown');let%20downloadCount=0;const%20totalImages=imageUrls.length;imageUrls.forEach((img,index)=>{setTimeout(()=>{downloadImage(img.src,img.filename);downloadCount++;if(downloadCount===totalImages){setTimeout(()=>alert('Extraction%20complete!\n\nDownloaded:\n-%20'+cleanName+'-content.md\n-%20'+imageCount+'%20of%20'+totalImages+'%20images\n\nAll%20files%20prefixed%20with%20"'+cleanName+'-"'),1000);}},index*200);});if(totalImages===0){alert('Extraction%20complete!\n\n-%20'+cleanName+'-content.md%20created\n-%20No%20images%20found');}})();